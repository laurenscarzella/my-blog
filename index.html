---
layout: default
---
<!-- <p class="descriptions"> {{ site.description }} </p> -->

<div class="home" id="home">
	<h1 class="pageTitle">Recent Posts</h1>
	<div class="posts noList">
		{%- for post in paginator.posts -%}
		<article>
			<span class="date">{{ post.date | date: '%B %d, %Y' }}</span>
			<h3>
				<a class="post-link" href="{{ post.url | relative_url }}">{{ post.title }}</a>
			</h3>
			<p>
				{%- if post.description -%}{{ post.description }}{%- else -%}{{
				post.excerpt | strip_html }}{%- endif -%}
			</p>
		</article>
		{%- endfor -%}
	</div>
	<!-- Pagination links -->
	<div class="pagination">
		{%- if paginator.previous_page -%}
		<a
			href="{{ paginator.previous_page_path | relative_url }}"
			class="previous button__outline"
			>Newer Posts</a
		>
		{%- endif -%} {%- if paginator.next_page -%}
		<a href="{{ paginator.next_page_path | relative_url }}" class="next button__outline"
			>Older Posts</a
		>
		{%- endif -%}
	</div>
</div>


<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
  // Fetch the movie data (ensure this path matches where you store the JSON file in your Jekyll project)
  fetch('/assets/movies_data.json')
    .then(response => response.json())
    .then(data => {
      // Function to update the plot based on selected genre
      function updatePlot(genre) {
        // Filter data by genre
        const filteredData = data.filter(movie => movie.primary_genre === genre);
        
        // Sort by popularity and get the top 10
        filteredData.sort((a, b) => b.popularity - a.popularity);
        const top10Movies = filteredData.slice(0, 10);
        
        // Extract movie titles and popularity for the plot
        const titles = top10Movies.map(movie => movie.title);
        const popularity = top10Movies.map(movie => movie.popularity);
        
        // Plotly bar chart configuration
        const trace = {
          x: titles,
          y: popularity,
          type: 'bar',
          marker: { color: '#008080' }
        };
        
        const layout = {
          title: `Top 10 Most Popular Movies in ${genre} Genre`,
          xaxis: { title: 'Movie Title' },
          yaxis: { title: 'Popularity' }
        };
        
        // Render the plot
        Plotly.newPlot('plotly-plot', [trace], layout);
      }

      // Initialize the plot with a default genre
      updatePlot('Action');
      
      // Update the plot when the genre is changed
      document.getElementById('genre-select').addEventListener('change', function(event) {
        updatePlot(event.target.value);
      });
    })
    .catch(error => console.error('Error loading movie data:', error));
</script>
